---
landing: Components
permalink: cagov-utility.html
title: Components and patterns
---

<meta
  name="viewport"
  content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no" />
<div class="cagov-header-shell">
  <div class="cagov-utility">
    <div class="cagov-container">
      <div class="cagov-utility-bar">
        <!-- CA.gov Logo -->
        <div class="cagov-logo">
          <a href="https://www.ca.gov" class="cagov-utility-link"
            ><span class="cagov-sr-only">CA.gov</span>
            <svg
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              x="0px"
              y="0px"
              viewBox="0 0 53.1 30"
              style="enable-background:new 0 0 53.1 30;"
              xml:space="preserve">
              <g id="Logo">
                <path
                  style="fill:#2F85B0;"
                  d="M31.6,12.2c0.2,0,0.4,0,0.5,0c1,0,2.1,0.4,3.1,0.8c0.1,0.1,0.3,0.1,0.4,0.2c0.1,0,0.1,0,0.2,0.1
		L38,7.6l2.1,5.3c0.1,0,0.2,0,0.3,0h0h0h0c0.2,0,0.4,0,0.6,0c0.1,0,0.1,0,0.2,0c0,0,0,0,0.1,0h0c1.4,0,2.7,0.2,3.9,0.5L40.5,1.2
		h-5.1l-4.3,11.1C31.2,12.2,31.4,12.2,31.6,12.2z" />
                <path
                  style="fill:#B91F39;"
                  d="M19.7,13.8c0.1-0.1,2.2-1.6,2.3-1.7h-2.8c-0.1,0-0.2,0-0.2-0.1h0c-0.3-0.8-0.9-2.6-0.9-2.6
		c-0.3,0.9-0.6,1.8-0.9,2.7c0,0.1-0.1,0.1-0.2,0.1c-0.6,0-2.5,0-2.9,0c0.1,0.1,1.6,1.1,2.3,1.6c0.1,0.1,0.1,0.1,0.1,0.2
		c-0.2,0.7-0.8,2.4-0.8,2.6c0.1,0,1.5-1,2.2-1.5c0.2-0.1,0.4-0.1,0.5,0c0,0,1.4,1,2.1,1.5c0-0.1-0.6-1.9-0.8-2.6
		C19.6,13.9,19.6,13.8,19.7,13.8z" />
                <path
                  style="fill:#693B17;"
                  d="M51.8,22.7L51.8,22.7c-0.1-0.8-0.7-2.5-1.3-3c0.3-0.8-0.1-1.1-0.3-1.4c-0.1-0.1-0.5-0.3-0.7-0.3
		c-0.6-1-2-1.8-3.9-2.4c-1.2-0.4-2.7-0.6-4.4-0.6c-0.1,0-0.2,0-0.2,0c-0.2,0-0.4,0-0.6,0c-1.5,0.1-3.8,0.4-4.4,0.4h0
		c-0.2,0-0.8-0.3-1.5-0.5c-0.8-0.3-1.7-0.6-2.4-0.6c-0.1,0-0.1,0-0.2,0c-0.6,0.1-2.1,1-2.7,1.3c-0.4,0.2-1.6,0.7-2,1
		c-0.1,0-0.2,0-0.3,0c-0.9,0.3-1.5,1.3-1.8,1.5c0-0.1-0.4-0.6-0.8-0.6c-0.1,0-0.1,0-0.2,0c-0.6,0.2-0.5,0.7-0.5,0.9
		c-0.1,0-0.3-0.2-0.6-0.2c-0.1,0-0.2,0-0.4,0.1c-0.6,0.3-0.3,0.9-0.4,1.1c-0.2,0.3-1,1-1.2,1.5c-0.1,0.2,0,0.8-0.1,1
		c-0.2,0.6-1.6,1.7-1.7,1.9c0,0.1,0.3,0.5,0.8,0.8c0.4,0.3,0.9,0.6,1.2,0.7c0.8,0,2.5-0.3,2.9-0.4h0c0.1,0,0.3,0.1,0.6,0.1
		c0.2,0.1,0.5,0.1,0.8,0.1c0.1,0,0.2,0,0.3,0c0.4-0.1,0.7-0.3,0.9-0.5c0.4-0.4,0.6-0.8,1-1c0.3-0.1,0.7-0.2,1.1-0.2
		c0.2,0,0.3,0,0.5,0.1c-0.7,1.2-0.5,2.7-0.7,3c-0.3,0.2-0.5,0.5-0.6,0.7c-0.6,0.9-0.6,1.6-0.9,1.8c-0.1,0-0.2,0.1-0.3,0.1
		c-0.3,0-0.7-0.1-1-0.1c-0.1,0-0.1,0-0.2,0c-0.3,0.1-1.2,0.9-0.9,1.1c0.1,0,1.4,0,2.8,0h1.2c0,0,0.8-0.7,0.8-0.7h2
		c0.2,0,0.2-0.3,1-0.8c1-0.4,0.5-2.2,1.7-3.7c0,0,0.4-0.3,0.5-0.3c0.4,0,1.1,0.8,3.7,0.8c2.6,0,3.2-0.9,3.6-0.9
		c0.2,0,0.5,0.3,0.5,0.4c-1.2,2,1.8,4.2,1.5,4.3c0,0,0,0,0,0c-0.1,0-0.4-0.2-0.8-0.2c-0.2,0-0.4,0-0.6,0.1c-0.5,0.2-0.9,0.8-0.5,0.9
		c0.1,0,1.3,0,2.4,0c0.6,0,1.3,0,1.7,0c0.1,0,0.1-0.3,0.1-0.6c0-0.2,0-0.4,0-0.4c0.1-0.2,0.2-0.7,0.5-1.1c0.3-0.3,0.5-0.6,0.8-0.6
		c0.1,0,0.2,0,0.3,0.1c0.5,0.3,1.9,0.5,2.6,0.7c0.3,0.1,0.5,0.2,0.5,0.4c0,0.1-0.1,0.1-0.2,0.1c0,0-0.1,0-0.1,0
		c-0.2,0-0.4-0.1-0.7-0.1c-0.1,0-0.2,0-0.3,0.1c-0.3,0.1-0.7,0.5-0.8,0.8c0,0.1,0,0.3,0.1,0.3h3.1c0.4,0,0.2-0.7,1-2.3
		c0.1-0.4-1-1.1-1.2-1.9C51.9,24.9,51.8,23.8,51.8,22.7L51.8,22.7z" />
                <g>
                  <path
                    style="fill:#2F85B0;"
                    d="M15,29.9c3.2,0,5.5-0.6,7.6-1.8l0.5-1.1c-0.7,0.1-1.4,0.2-2,0.2h-0.3l-0.2-0.1
			c-0.5-0.1-1.2-0.5-1.9-1.1c-0.3-0.2-0.7-0.6-1.1-1.1c-0.8,0.2-1.6,0.3-2.6,0.3C9,25.3,4.7,21,4.7,15C4.7,9.2,9.2,4.7,15,4.7
			c3.2,0,6.1,1.3,8.7,3.9l1.9-4.7c-2.9-2.4-6.6-3.8-10.4-3.8C11,0.1,7.3,1.5,4.5,4.2C1.6,6.9,0,10.7,0,15C0,23.7,6.2,29.9,15,29.9z" />
                  <path
                    style="fill:#326130;"
                    d="M15,29.9c3.2,0,5.5-0.6,7.6-1.8l0.5-1.1c-0.7,0.1-1.4,0.2-2,0.2h-0.3l-0.2-0.1
			c-0.5-0.1-1.2-0.5-1.9-1.1c-0.3-0.2-0.7-0.6-1.1-1.1c-0.8,0.2-1.6,0.3-2.6,0.3c-4.2,0-7.4-2-9.1-5.1H0.8C2.7,26.1,8,29.9,15,29.9z
			" />
                </g>
              </g></svg></a
          ><!-- end CA.gov Logo -->
        </div>

        <!--cagov menu-->
        <button
          class="cagov-utility-menu-button"
          aria-expanded="false"
          aria-controls="cagov-utility-menu">
          <span class="underline">ca.gov menu</span>
        </button>

        <!--cagov collapsible menu content-->
        <div
          class="collapsible-content"
          id="cagov-utility-menu"
          hidden="hidden">
          <nav aria-label="ca.gov navigation">
            <ul>
              <li>
                <a
                  href="https://www.ca.gov/services/"
                  target="_blank"
                  rel="noopener noreferrer"
                  >Services</a
                >
              </li>
              <li>
                <a
                  href="https://www.ca.gov/departments/"
                  target="_blank"
                  rel="noopener noreferrer"
                  >Departments</a
                >
              </li>
              <li>
                <a
                  href="https://www.ca.gov/about-california/"
                  target="_blank"
                  rel="noopener noreferrer"
                  >About California</a
                >
              </li>
              <li>
                <a
                  href="https://www.ca.gov/support/"
                  target="_blank"
                  rel="noopener noreferrer"
                  >Get help</a
                >
              </li>
            </ul>
          </nav>
        </div>
        <!--end cagov collapsible menu content-->

        <!--end cagov menu-->

        <!--Search-->
        <button
          class="cagov-utility-search-button"
          aria-expanded="false"
          aria-controls="cagov-utility-search">
          <span class="cagov-sr-only">CA.gov search</span>
          <svg
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24">
            <title>search</title>
            <path
              d="M22.525 18.331l-0.707-0.587 0.004-0.004-2.245-1.814-3.169-2.623c0.65-1.163 0.985-2.451 0.985-3.757 0-1.953-0.749-3.905-2.258-5.411-1.473-1.474-3.424-2.193-5.409-2.193-4.11 0-7.603 3.494-7.603 7.604 0 4.145 3.426 7.636 7.568 7.636 1.54 0 3.078-0.462 4.395-1.36l3.26 2.7 2.234 1.804-0.002 0.002 0.767 0.636c0.376 0.313 0.934 0.26 1.242-0.116l1.059-1.276c0.311-0.374 0.256-0.931-0.118-1.242zM13.078 12.868c-0.922 0.924-2.122 1.369-3.353 1.369-2.502 0-4.658-2.123-4.658-4.691 0-2.501 2.123-4.658 4.658-4.658 2.602 0 4.722 2.124 4.722 4.658 0 1.198-0.477 2.397-1.369 3.322z"></path>
          </svg>
        </button>
        <!--End search-->

        <!-- collapsible search content-->
        <div
          class="collapsible-content cagov-search"
          id="cagov-utility-search"
          hidden="hidden">
          <form
            action="https://www.ca.gov/search/"
            method="get"
            role="search"
            aria-label="Search ca.gov">
            <label for="cagov-search-input" class="cagov-sr-only"
              >Search ca.gov</label
            >
            <input
              type="search"
              id="cagov-search-input"
              name="q"
              placeholder="Search ca.gov"
              aria-describedby="cagov-search-button" />
            <button
              type="submit"
              id="cagov-search-button"
              aria-label="Submit search">
              <svg
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                width="24"
                height="24"
                viewBox="0 0 24 24">
                <title>search</title>
                <path
                  d="M22.525 18.331l-0.707-0.587 0.004-0.004-2.245-1.814-3.169-2.623c0.65-1.163 0.985-2.451 0.985-3.757 0-1.953-0.749-3.905-2.258-5.411-1.473-1.474-3.424-2.193-5.409-2.193-4.11 0-7.603 3.494-7.603 7.604 0 4.145 3.426 7.636 7.568 7.636 1.54 0 3.078-0.462 4.395-1.36l3.26 2.7 2.234 1.804-0.002 0.002 0.767 0.636c0.376 0.313 0.934 0.26 1.242-0.116l1.059-1.276c0.311-0.374 0.256-0.931-0.118-1.242zM13.078 12.868c-0.922 0.924-2.122 1.369-3.353 1.369-2.502 0-4.658-2.123-4.658-4.691 0-2.501 2.123-4.658 4.658-4.658 2.602 0 4.722 2.124 4.722 4.658 0 1.198-0.477 2.397-1.369 3.322z"></path>
              </svg>
            </button>
          </form>
        </div>
        <!-- end collapsible search content-->
      </div>
      <!-- .cagov-utility-bar -->
    </div>
    <!-- .cagov-container -->
  </div>
  <!-- .cagov-utility -->
</div>
<!-- .cagov-header-shell -->

<style>
        body {margin:0;padding:0;}

      .cagov-header-shell {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: "Public Sans", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", "Noto Sans", sans-serif;
        color: #3b3a48;

        *,
        *::before,
        *::after {
          box-sizing: border-box;
          margin: 0;
        }
      }

      .cagov-container {
        width: 100%;
        padding-right: 15px;
        padding-left: 15px;
        margin-right: auto;
        margin-left: auto;

        @media (min-width: 576px) {
          max-width: 540px;
        }
        @media (min-width: 768px) {
          max-width: 720px;
        }
        @media (min-width: 992px) {
          max-width: 960px;
        }
        @media (min-width: 1200px) {
          max-width: 1140px;
        }
      }

      /* Global utility styles */
      :focus {
      outline: 2px solid #0b8ee5;
    }

    a {
      color: #046b99;

      &:hover,
      &:focus {
        color: #035376;
      }
    }

    .underline {
      text-decoration: underline;
    }

        .d-none {
      display: none;
  }

    .cagov-sr-only {
      position: absolute !important;
      width: 1px !important;
      height: 1px !important;
      padding: 0 !important;
      margin: -1px !important;
      overflow: hidden !important;
      clip: rect(0, 0, 0, 0) !important;
      white-space: nowrap !important;
      border: 0 !important;
    }

    .cagov-utility {
      background-color: #f5f9fa;
      min-height: 42px;
      padding: .25rem 0;

      .cagov-logo {
        display: inline-block;
        flex-grow: 1;
        flex-shrink: 0;
        align-self: center;
      }

      .cagov-utility-link svg {
        vertical-align: middle;
        aspect-ratio: 9 / 5;
        display: inline-block;
        width: 50px;
      }

      .cagov-utility-bar {
        width: 100%;
        display: flex;
        flex-wrap: wrap;
      }

      .cagov-utility-menu-button {
        margin-left: auto;
        background: none;
        border: none;
        color: #3b3a48;
        font-size: 1rem;
        cursor: pointer;
        padding: 0.35rem 0.5rem;

        &::after {
          content: "";
          display: inline-block;
          text-decoration: none;
          position: relative;
          width: .4rem;
          height: .4rem;
          border-top: 1px solid #000;
          border-left: 1px solid #000;
          transform: rotate(225deg);
          vertical-align: middle;
          margin-left: 3px;
          transition: transform 0.3s;
        }

        &[aria-expanded="true"]::after {
          transform: rotate(45deg);
          top: 2px;
        }

        &:focus,
        &:hover {
          color: #000;
          outline-offset: -2px;
        }
      }

      .cagov-utility-search-button {
        background: none;
        border: none;
        color: #3b3a48;
        font-size: 1rem;
        cursor: pointer;
        padding: 0.2rem 0.35rem;
        margin-left: 0;
        position: relative;
        left: 0.35rem;
        top: 2px;
        transition: color 0.2s;
        width: 34px;
        height: 30px;

        &[aria-expanded="true"] svg {
          display: none;
        }

        &[aria-expanded="true"]::after {
          content: "";
          display: inline-block;
          width: 24px;
          height: 24px;
          margin-left: 0px;
          position: relative;
          top: 3px;
        }

        &[aria-expanded="true"]::before,
        &[aria-expanded="true"]::after {
          content: "";
          position: absolute;
          left: 5px;
          top: 14px;
          width: 24px;
          height: 3px;
          background: #3b3a48;
          border-radius: 2px;
          transition: transform 0.3s;
        }

        &[aria-expanded="true"]::before {
          transform: rotate(45deg);
        }

        &[aria-expanded="true"]::after {
          transform: rotate(-45deg);
        }

        &.rotating::before {
          transform: rotate(135deg);
        }

        &.rotating::after {
          transform: rotate(45deg);
        }
      }
    }
    /* Collapsible content styles */
    .cagov-utility {
      .collapsible-content {
        background-color: #f5f9fa;
        padding-top: 1rem;
        padding-bottom: 1rem;
        line-height: 1.5;
        width: 100%;
        order: 1;

        /* Navigation styles */
        nav {
          ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            align-items: flex-end;
            justify-content: flex-end;
            padding: 0;
            position: relative;
            left: 0.35rem;

            a {
              padding: 0.35rem;
            }
          }
        }
      }
    }

    @media (min-width: 540px) {
      .cagov-utility .collapsible-content nav ul {
        flex-direction: row;
        gap: 1.5rem;
      }
    }

    /* Search styles */
    .cagov-search {
      form {
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      }

      input[type="search"] {
      font-size: 1.1rem;
      width: 100%;
      max-height: 38px;
      padding: 0 10px;
      transition: border 0.4s;
      border: 1px solid #72717c;
      border-radius: 5px 0 0 5px;
      height: 38px;
      outline-offset: -2px;
      }

      #cagov-search-button {
      outline-offset: -4px;
      outline-color: #85cbf9;
      background-color: #72717c;
      color: #fff;
      border-radius: 0 5px 5px 0;
      padding: 0 12px;
      border: 1px solid #72717c;
      min-height: 38px;
      margin-left: -1px;

      svg path {
        fill: #fff;
      }
      }
    }
</style>
<script>
  class CagovUtilityMenuToggle {
    constructor() {
      this.menuButton = document.querySelector('.cagov-utility-menu-button');
      this.menuContent = document.getElementById('cagov-utility-menu');
      this.searchContent = document.getElementById('cagov-utility-search');
      if (this.menuButton && this.menuContent) {
        this.menuButton.addEventListener('click', () => this.toggleMenu());
      }
    }

    toggleMenu() {
      const expanded = this.menuButton.getAttribute('aria-expanded') === 'true';
      this.menuButton.setAttribute('aria-expanded', !expanded);
      if (expanded) {
        this.menuContent.setAttribute('hidden', 'hidden');
      } else {
        this.menuContent.removeAttribute('hidden');
        // Hide search if open
        if (this.searchContent && !this.searchContent.hasAttribute('hidden')) {
          this.searchContent.setAttribute('hidden', 'hidden');
          const searchButton = document.querySelector('.cagov-utility-search-button');
          if (searchButton) {
            searchButton.setAttribute('aria-expanded', 'false');
            searchButton.classList.remove('rotating');
          }
        }
      }
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    new CagovUtilityMenuToggle();
  });

  class CagovUtilitySearchToggle {
    constructor() {
      this.searchButton = document.querySelector('.cagov-utility-search-button');
      this.searchContent = document.getElementById('cagov-utility-search');
      this.menuContent = document.getElementById('cagov-utility-menu');
      if (this.searchButton && this.searchContent) {
        this.searchButton.addEventListener('click', () => this.toggleSearch());
      }
    }

    toggleSearch() {
      const expanded = this.searchButton.getAttribute('aria-expanded') === 'true';
      this.searchButton.setAttribute('aria-expanded', !expanded);
      if (expanded) {
        this.searchContent.setAttribute('hidden', 'hidden');
      } else {
        this.searchContent.removeAttribute('hidden');
        // Hide menu if open
        if (this.menuContent && !this.menuContent.hasAttribute('hidden')) {
          this.menuContent.setAttribute('hidden', 'hidden');
          const menuButton = document.querySelector('.cagov-utility-menu-button');
          if (menuButton) {
            menuButton.setAttribute('aria-expanded', 'false');
          }
        }
      }
      setTimeout(() => {
        this.searchButton.classList.toggle('rotating');
      }, 10);
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    new CagovUtilitySearchToggle();
  });


  class CagovUtilityMenuFocusOut {
    constructor() {
      this.menuButton = document.querySelector('.cagov-utility-menu-button');
      this.menuContent = document.getElementById('cagov-utility-menu');
      this.searchButton = document.querySelector('.cagov-utility-search-button');
      if (this.menuContent && this.menuButton) {
        this.menuContent.addEventListener('focusout', (e) => this.handleFocusOut(e));
        this.menuButton.addEventListener('focusout', (e) => this.handleFocusOut(e));
      }
    }

    handleFocusOut(event) {
      const relatedTarget = event.relatedTarget;
      // Get all focusable elements inside menuContent
      const focusableSelectors = [
        'a[href]', 'button:not([disabled])', 'input:not([disabled])',
        'select:not([disabled])', 'textarea:not([disabled])', '[tabindex]:not([tabindex="-1"])'
      ];
      const focusableElements = Array.from(this.menuContent.querySelectorAll(focusableSelectors.join(',')))
        .filter(el => el.offsetParent !== null);

      // If focus moves outside menuButton, menuContent, or searchButton, close menu
      if (
        !this.menuButton.contains(relatedTarget) &&
        !this.menuContent.contains(relatedTarget) &&
        !this.searchButton.contains(relatedTarget)
      ) {
        this.menuContent.setAttribute('hidden', 'hidden');
        this.menuButton.setAttribute('aria-expanded', 'false');
        return;
      }

      // If focus leaves the last focusable element in menuContent, close menu
      if (focusableElements.length > 0 && event.target === focusableElements[focusableElements.length - 1]) {
        if (
          !this.menuContent.contains(relatedTarget)
        ) {
          this.menuContent.setAttribute('hidden', 'hidden');
          this.menuButton.setAttribute('aria-expanded', 'false');
        }
      }
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    new CagovUtilityMenuFocusOut();
  });


  class CagovUtilitySearchFocusOut {
    constructor() {
      this.searchButton = document.querySelector('.cagov-utility-search-button');
      this.searchContent = document.getElementById('cagov-utility-search');
      this.menuButton = document.querySelector('.cagov-utility-menu-button');
      if (this.searchContent && this.searchButton) {
        this.searchContent.addEventListener('focusout', (e) => this.handleFocusOut(e));
        this.searchButton.addEventListener('focusout', (e) => this.handleFocusOut(e));
      }
    }

    handleFocusOut(event) {
      const relatedTarget = event.relatedTarget;
      // Only keep open if focus moves to menu button or search button itself
      if (
        !this.menuButton.contains(relatedTarget) &&
        !this.searchButton.contains(relatedTarget) &&
        !this.searchContent.contains(relatedTarget)
      ) {
        this.searchContent.setAttribute('hidden', 'hidden');
        this.searchButton.setAttribute('aria-expanded', 'false');
        this.searchButton.classList.remove('rotating');
      }
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    new CagovUtilitySearchFocusOut();
  });
</script>
